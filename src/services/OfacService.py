import requests
from bs4 import BeautifulSoup
from src.models.OfacElementModel import OfacElement
from src.models.ResponseModel import Response


def get_data_from_sanctions_list(name): 
    url = 'https://sanctionssearch.ofac.treas.gov/Default.aspx'
    elements = []

    # Payload para el POST request
    payload = {
    'ctl00_ctl03_HiddenField': ';;AjaxControlToolkit, Version=3.5.40412.0, Culture=neutral, PublicKeyToken=28f01b0e84b6d53e:en-US:1547e793-5b7e-48fe-8490-03a375b13a33:475a4ef5:5546a2b:d2e10b12:497ef277:effe2a26',
    '__EVENTTARGET' : '',
    '__EVENTARGUMENT':'' ,
    '__VIEWSTATE': '/wEPDwUKLTc1MTM2NTYzOQ8WGB4IbGFzdE5hbWUFBERydWceB2FkZHJlc3NlHgRjaXR5ZR4Fc3RhdGVlHgdjb3VudHJ5ZR4HcHJvZ3JhbWUeAmlkZR4FbGlzdHNlHglmaXJzdE5hbWVlHgVzY29yZQUDMTAwHgRzb3J0BQpzY29yZSBERVNDHgR0eXBlZRYCZg9kFgICAw9kFhICBQ8PFgIeBFRleHQFng5TcGVjaWFsbHkgRGVzaWduYXRlZCBOYXRpb25hbHMgYW5kIEJsb2NrZWQgUGVyc29ucyBsaXN0ICgiU0ROIExpc3QiKSBhbmQgYWxsIG90aGVyIHNhbmN0aW9ucyBsaXN0cyBhZG1pbmlzdGVyZWQgYnkgT0ZBQywgaW5jbHVkaW5nIHRoZSBGb3JlaWduIFNhbmN0aW9ucyBFdmFkZXJzIExpc3QsIHRoZSBOb24tU0ROIElyYW4gU2FuY3Rpb25zIEFjdCBMaXN0LCB0aGUgU2VjdG9yYWwgU2FuY3Rpb25zIElkZW50aWZpY2F0aW9ucyBMaXN0LCB0aGUgTGlzdCBvZiBGb3JlaWduIEZpbmFuY2lhbCBJbnN0aXR1dGlvbnMgU3ViamVjdCB0byBDb3JyZXNwb25kZW50IEFjY291bnQgb3IgUGF5YWJsZS1UaHJvdWdoIEFjY291bnQgU2FuY3Rpb25zIGFuZCB0aGUgTm9uLVNETiBQYWxlc3RpbmlhbiBMZWdpc2xhdGl2ZSBDb3VuY2lsIExpc3QuIEdpdmVuIHRoZSBudW1iZXIgb2YgbGlzdHMgdGhhdCBub3cgcmVzaWRlIGluIHRoZSBTYW5jdGlvbnMgTGlzdCBTZWFyY2ggdG9vbCwgaXQgaXMgc3Ryb25nbHkgcmVjb21tZW5kZWQgdGhhdCB1c2VycyBwYXkgY2xvc2UgYXR0ZW50aW9uIHRvIHRoZSBwcm9ncmFtIGNvZGVzIGFzc29jaWF0ZWQgd2l0aCBlYWNoIHJldHVybmVkIHJlY29yZC4gVGhlc2UgcHJvZ3JhbSBjb2RlcyBpbmRpY2F0ZSBob3cgYSB0cnVlIGhpdCBvbiBhIHJldHVybmVkIHZhbHVlIHNob3VsZCBiZSB0cmVhdGVkLiBUaGUgU2FuY3Rpb25zIExpc3QgU2VhcmNoIHRvb2wgdXNlcyBhcHByb3hpbWF0ZSBzdHJpbmcgbWF0Y2hpbmcgdG8gaWRlbnRpZnkgcG9zc2libGUgbWF0Y2hlcyBiZXR3ZWVuIHdvcmQgb3IgY2hhcmFjdGVyIHN0cmluZ3MgYXMgZW50ZXJlZCBpbnRvIFNhbmN0aW9ucyBMaXN0IFNlYXJjaCwgYW5kIGFueSBuYW1lIG9yIG5hbWUgY29tcG9uZW50IGFzIGl0IGFwcGVhcnMgb24gdGhlIFNETiBMaXN0IGFuZC9vciB0aGUgdmFyaW91cyBvdGhlciBzYW5jdGlvbnMgbGlzdHMuIFNhbmN0aW9ucyBMaXN0IFNlYXJjaCBoYXMgYSBzbGlkZXItYmFyIHRoYXQgbWF5IGJlIHVzZWQgdG8gc2V0IGEgdGhyZXNob2xkIChpLmUuLCBhIGNvbmZpZGVuY2UgcmF0aW5nKSBmb3IgdGhlIGNsb3NlbmVzcyBvZiBhbnkgcG90ZW50aWFsIG1hdGNoIHJldHVybmVkIGFzIGEgcmVzdWx0IG9mIGEgdXNlcidzIHNlYXJjaC4gU2FuY3Rpb25zIExpc3QgU2VhcmNoIHdpbGwgZGV0ZWN0IGNlcnRhaW4gbWlzc3BlbGxpbmdzIG9yIG90aGVyIGluY29ycmVjdGx5IGVudGVyZWQgdGV4dCwgYW5kIHdpbGwgcmV0dXJuIG5lYXIsIG9yIHByb3hpbWF0ZSwgbWF0Y2hlcywgYmFzZWQgb24gdGhlIGNvbmZpZGVuY2UgcmF0aW5nIHNldCBieSB0aGUgdXNlciB2aWEgdGhlIHNsaWRlci1iYXIuIE9GQUMgZG9lcyBub3QgcHJvdmlkZSByZWNvbW1lbmRhdGlvbnMgd2l0aCByZWdhcmQgdG8gdGhlIGFwcHJvcHJpYXRlbmVzcyBvZiBhbnkgc3BlY2lmaWMgY29uZmlkZW5jZSByYXRpbmcuIFNhbmN0aW9ucyBMaXN0IFNlYXJjaCBpcyBvbmUgdG9vbCBvZmZlcmVkIHRvIGFzc2lzdCB1c2VycyBpbiB1dGlsaXppbmcgdGhlIFNETiBMaXN0IGFuZC9vciB0aGUgdmFyaW91cyBvdGhlciBzYW5jdGlvbnMgbGlzdHM7IHVzZSBvZiBTYW5jdGlvbnMgTGlzdCBTZWFyY2ggaXMgbm90IGEgc3Vic3RpdHV0ZSBmb3IgdW5kZXJ0YWtpbmcgYXBwcm9wcmlhdGUgZHVlIGRpbGlnZW5jZS4gVGhlIHVzZSBvZiBTYW5jdGlvbnMgTGlzdCBTZWFyY2ggZG9lcyBub3QgbGltaXQgYW55IGNyaW1pbmFsIG9yIGNpdmlsIGxpYWJpbGl0eSBmb3IgYW55IGFjdCB1bmRlcnRha2VuIGFzIGEgcmVzdWx0IG9mLCBvciBpbiByZWxpYW5jZSBvbiwgc3VjaCB1c2UuZGQCBw8PFgIeC05hdmlnYXRlVXJsBXlodHRwczovL2hvbWUudHJlYXN1cnkuZ292L3BvbGljeS1pc3N1ZXMvZmluYW5jaWFsLXNhbmN0aW9ucy9zcGVjaWFsbHktZGVzaWduYXRlZC1uYXRpb25hbHMtbGlzdC1kYXRhLWZvcm1hdHMtZGF0YS1zY2hlbWFzZGQCCQ8PFgIfDQUiaHR0cHM6Ly9vZmFjLnRyZWFzdXJ5Lmdvdi9mYXFzLzI4N2RkAgsPDxYCHw0Fa2h0dHBzOi8vaG9tZS50cmVhc3VyeS5nb3YvcG9saWN5LWlzc3Vlcy9vZmZpY2Utb2YtZm9yZWlnbi1hc3NldHMtY29udHJvbC1zYW5jdGlvbnMtcHJvZ3JhbXMtYW5kLWluZm9ybWF0aW9uZGQCDQ8PFgIfDQViaHR0cHM6Ly9ob21lLnRyZWFzdXJ5Lmdvdi9wb2xpY3ktaXNzdWVzL2ZpbmFuY2lhbC1zYW5jdGlvbnMvY29uc29saWRhdGVkLXNhbmN0aW9ucy1saXN0LWRhdGEtZmlsZXNkZAIPDw8WAh8NBXdodHRwczovL29mYWMudHJlYXN1cnkuZ292L3NwZWNpYWxseS1kZXNpZ25hdGVkLW5hdGlvbmFscy1saXN0LXNkbi1saXN0L3Byb2dyYW0tdGFnLWRlZmluaXRpb25zLWZvci1vZmFjLXNhbmN0aW9ucy1saXN0c2RkAhEPZBYGAgUPZBYIAgMPEA8WAh4LXyFEYXRhQm91bmRnZBAVBQNBbGwIQWlyY3JhZnQGRW50aXR5CkluZGl2aWR1YWwGVmVzc2VsFQUACEFpcmNyYWZ0BkVudGl0eQpJbmRpdmlkdWFsBlZlc3NlbBQrAwVnZ2dnZ2RkAhsPEA8WAh8OZ2QQFU8DQWxsCzU2MS1SZWxhdGVkB0JBTEtBTlMPQkFMS0FOUy1FTzE0MDMzB0JFTEFSVVMPQkVMQVJVUy1FTzE0MDM4D0JQSS1TVURBTi0xNDA5OA1CVVJNQS1FTzE0MDE0DUNBQVRTQSAtIElSQU4PQ0FBVFNBIC0gUlVTU0lBA0NBUgxDTUlDLUVPMTM5NTkEQ1VCQQZDWUJFUjIGREFSRlVSBERQUksFRFBSSzIFRFBSSzMFRFBSSzQLRFBSSy1OS1NQRUEHRFJDT05HTxBFTEVDVElPTi1FTzEzODQ4EEVUSElPUElBLUVPMTQwNDYGRlNFLUlSA0ZUTwZHTE9NQUcGSElGUEFBCkhLLUVPMTM5MzYQSE9TVEFHRVMtRU8xNDA3OAdIUklULUlSB0hSSVQtU1kESUZDQQRJRlNSFUlMTElDSVQtRFJVR1MtRU8xNDA1OQRJUkFOEElSQU4tQ09OLUFSTVMtRU8MSVJBTi1FTzEzODQ2DElSQU4tRU8xMzg3MQxJUkFOLUVPMTM4NzYMSVJBTi1FTzEzOTAyB0lSQU4tSFIISVJBTi1UUkEFSVJBUTIFSVJBUTMESVJHQwNJU0EHTEVCQU5PTgZMSUJZQTIGTElCWUEzBk1BR05JVAxNQUxJLUVPMTM4ODIJTklDQVJBR1VBD05JQ0FSQUdVQS1OSFJBQQVOUFdNRAZOUy1QTEMNUEVFU0EtRU8xNDAzOQ5SVVNTSUEtRU8xNDAyNA5SVVNTSUEtRU8xNDA2NQRTREdUBFNETlQFU0ROVEsHU09NQUxJQQtTT1VUSCBTVURBTgZTU0lERVMNU1VEQU4tRU8xNDA5OAVTWVJJQQxTWVJJQS1DQUVTQVINU1lSSUEtRU8xMzg5NANUQ08FVUhSUEEPVUtSQUlORS1FTzEzNjYwD1VLUkFJTkUtRU8xMzY2MQ9VS1JBSU5FLUVPMTM2NjIPVUtSQUlORS1FTzEzNjg1CVZFTkVaVUVMQRFWRU5FWlVFTEEtRU8xMzg1MBFWRU5FWlVFTEEtRU8xMzg4NBFXRVNULUJBTkstRU8xNDExNQVZRU1FThVPAAs1NjEtUmVsYXRlZAdCQUxLQU5TD0JBTEtBTlMtRU8xNDAzMwdCRUxBUlVTD0JFTEFSVVMtRU8xNDAzOA9CUEktU1VEQU4tMTQwOTgNQlVSTUEtRU8xNDAxNA1DQUFUU0EgLSBJUkFOD0NBQVRTQSAtIFJVU1NJQQNDQVIMQ01JQy1FTzEzOTU5BENVQkEGQ1lCRVIyBkRBUkZVUgREUFJLBURQUksyBURQUkszBURQUks0C0RQUkstTktTUEVBB0RSQ09OR08QRUxFQ1RJT04tRU8xMzg0OBBFVEhJT1BJQS1FTzE0MDQ2BkZTRS1JUgNGVE8GR0xPTUFHBkhJRlBBQQpISy1FTzEzOTM2EEhPU1RBR0VTLUVPMTQwNzgHSFJJVC1JUgdIUklULVNZBElGQ0EESUZTUhVJTExJQ0lULURSVUdTLUVPMTQwNTkESVJBThBJUkFOLUNPTi1BUk1TLUVPDElSQU4tRU8xMzg0NgxJUkFOLUVPMTM4NzEMSVJBTi1FTzEzODc2DElSQU4tRU8xMzkwMgdJUkFOLUhSCElSQU4tVFJBBUlSQVEyBUlSQVEzBElSR0MDSVNBB0xFQkFOT04GTElCWUEyBkxJQllBMwZNQUdOSVQMTUFMSS1FTzEzODgyCU5JQ0FSQUdVQQ9OSUNBUkFHVUEtTkhSQUEFTlBXTUQGTlMtUExDDVBFRVNBLUVPMTQwMzkOUlVTU0lBLUVPMTQwMjQOUlVTU0lBLUVPMTQwNjUEU0RHVARTRE5UBVNETlRLB1NPTUFMSUELU09VVEggU1VEQU4GU1NJREVTDVNVREFOLUVPMTQwOTgFU1lSSUEMU1lSSUEtQ0FFU0FSDVNZUklBLUVPMTM4OTQDVENPBVVIUlBBD1VLUkFJTkUtRU8xMzY2MA9VS1JBSU5FLUVPMTM2NjEPVUtSQUlORS1FTzEzNjYyD1VLUkFJTkUtRU8xMzY4NQlWRU5FWlVFTEERVkVORVpVRUxBLUVPMTM4NTARVkVORVpVRUxBLUVPMTM4ODQRV0VTVC1CQU5LLUVPMTQxMTUFWUVNRU4UKwNPZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2RkAiEPEA8WAh8OZ2QQFbkBA0FsbAtBZmdoYW5pc3RhbgdBbGJhbmlhB0FsZ2VyaWEGQW5nb2xhCUFyZ2VudGluYQdBcm1lbmlhBUFydWJhCUF1c3RyYWxpYQdBdXN0cmlhCkF6ZXJiYWlqYW4MQmFoYW1hcywgVGhlB0JhaHJhaW4KQmFuZ2xhZGVzaAhCYXJiYWRvcwdCZWxhcnVzB0JlbGdpdW0GQmVsaXplBUJlbmluB0Jlcm11ZGEHQm9saXZpYRZCb3NuaWEgYW5kIEhlcnplZ292aW5hBkJyYXppbAZCcnVuZWkIQnVsZ2FyaWEMQnVya2luYSBGYXNvBUJ1cm1hCENhbWJvZGlhBkNhbmFkYQ5DYXltYW4gSXNsYW5kcxhDZW50cmFsIEFmcmljYW4gUmVwdWJsaWMFQ2hpbGUFQ2hpbmEIQ29sb21iaWEHQ29tb3JvcyFDb25nbywgRGVtb2NyYXRpYyBSZXB1YmxpYyBvZiB0aGUWQ29uZ28sIFJlcHVibGljIG9mIHRoZQpDb3N0YSBSaWNhDUNvdGUgZCBJdm9pcmUHQ3JvYXRpYQRDdWJhBkN5cHJ1cw5DemVjaCBSZXB1YmxpYwdEZW5tYXJrCERqaWJvdXRpCERvbWluaWNhEkRvbWluaWNhbiBSZXB1YmxpYwdFY3VhZG9yBUVneXB0C0VsIFNhbHZhZG9yEUVxdWF0b3JpYWwgR3VpbmVhB0VyaXRyZWEHRXN0b25pYQhFdGhpb3BpYQdGaW5sYW5kBkZyYW5jZQdHZW9yZ2lhB0dlcm1hbnkFR2hhbmEJR2licmFsdGFyBkdyZWVjZQlHdWF0ZW1hbGEIR3Vlcm5zZXkGR3VpbmVhBkd1eWFuYQVIYWl0aQhIb25kdXJhcwlIb25nIEtvbmcHSHVuZ2FyeQdJY2VsYW5kBUluZGlhCUluZG9uZXNpYQRJcmFuBElyYXEHSXJlbGFuZAZJc3JhZWwFSXRhbHkHSmFtYWljYQVKYXBhbgZKZXJzZXkGSm9yZGFuCkthemFraHN0YW4FS2VueWEMS29yZWEsIE5vcnRoDEtvcmVhLCBTb3V0aAZLb3Nvdm8GS3V3YWl0Ckt5cmd5enN0YW4ETGFvcwZMYXR2aWEHTGViYW5vbgdMaWJlcmlhBUxpYnlhDUxpZWNodGVuc3RlaW4JTGl0aHVhbmlhCkx1eGVtYm91cmcFTWFjYXUITWFsYXlzaWEITWFsZGl2ZXMETWFsaQVNYWx0YQxNYW4sIElzbGUgb2YQTWFyc2hhbGwgSXNsYW5kcwpNYXVyaXRhbmlhBk1leGljbwdNb2xkb3ZhBk1vbmFjbwhNb25nb2xpYQpNb250ZW5lZ3JvB01vcm9jY28KTW96YW1iaXF1ZQdOYW1pYmlhC05ldGhlcmxhbmRzFE5ldGhlcmxhbmRzIEFudGlsbGVzC05ldyBaZWFsYW5kCU5pY2FyYWd1YQVOaWdlcgdOaWdlcmlhIE5vcnRoIE1hY2Vkb25pYSwgVGhlIFJlcHVibGljIG9mBk5vcndheQRPbWFuCFBha2lzdGFuBVBhbGF1C1BhbGVzdGluaWFuBlBhbmFtYQhQYXJhZ3VheQRQZXJ1C1BoaWxpcHBpbmVzBlBvbGFuZAVRYXRhcipSZWdpb246IENvbW1vbndlYWx0aCBvZiBJbmRlcGVuZGVudCBTdGF0ZXMOUmVnaW9uOiBDcmltZWEMUmVnaW9uOiBHYXphE1JlZ2lvbjogS2FmaWEgS2luZ2kVUmVnaW9uOiBOb3J0aGVybiBNYWxpEVJlZ2lvbjogV2VzdCBCYW5rB1JvbWFuaWEGUnVzc2lhBlJ3YW5kYRVTYWludCBLaXR0cyBhbmQgTmV2aXMgU2FpbnQgVmluY2VudCBhbmQgdGhlIEdyZW5hZGluZXMFU2Ftb2EKU2FuIE1hcmlubwxTYXVkaSBBcmFiaWEHU2VuZWdhbAZTZXJiaWEKU2V5Y2hlbGxlcwxTaWVycmEgTGVvbmUJU2luZ2Fwb3JlCFNsb3Zha2lhCFNsb3ZlbmlhB1NvbWFsaWEMU291dGggQWZyaWNhC1NvdXRoIFN1ZGFuBVNwYWluCVNyaSBMYW5rYQVTdWRhbgZTd2VkZW4LU3dpdHplcmxhbmQFU3lyaWEGVGFpd2FuClRhamlraXN0YW4IVGFuemFuaWEIVGhhaWxhbmQKVGhlIEdhbWJpYRNUcmluaWRhZCBhbmQgVG9iYWdvB1R1bmlzaWEGVHVya2V5DFR1cmttZW5pc3RhbgZVZ2FuZGEHVWtyYWluZQx1bmRldGVybWluZWQUVW5pdGVkIEFyYWIgRW1pcmF0ZXMOVW5pdGVkIEtpbmdkb20NVW5pdGVkIFN0YXRlcwdVcnVndWF5ClV6YmVraXN0YW4HVmFudWF0dQlWZW5lenVlbGEHVmlldG5hbRdWaXJnaW4gSXNsYW5kcywgQnJpdGlzaAlXZXN0IEJhbmsFWWVtZW4GWmFtYmlhCFppbWJhYndlFbkBAAtBZmdoYW5pc3RhbgdBbGJhbmlhB0FsZ2VyaWEGQW5nb2xhCUFyZ2VudGluYQdBcm1lbmlhBUFydWJhCUF1c3RyYWxpYQdBdXN0cmlhCkF6ZXJiYWlqYW4MQmFoYW1hcywgVGhlB0JhaHJhaW4KQmFuZ2xhZGVzaAhCYXJiYWRvcwdCZWxhcnVzB0JlbGdpdW0GQmVsaXplBUJlbmluB0Jlcm11ZGEHQm9saXZpYRZCb3NuaWEgYW5kIEhlcnplZ292aW5hBkJyYXppbAZCcnVuZWkIQnVsZ2FyaWEMQnVya2luYSBGYXNvBUJ1cm1hCENhbWJvZGlhBkNhbmFkYQ5DYXltYW4gSXNsYW5kcxhDZW50cmFsIEFmcmljYW4gUmVwdWJsaWMFQ2hpbGUFQ2hpbmEIQ29sb21iaWEHQ29tb3JvcyFDb25nbywgRGVtb2NyYXRpYyBSZXB1YmxpYyBvZiB0aGUWQ29uZ28sIFJlcHVibGljIG9mIHRoZQpDb3N0YSBSaWNhDUNvdGUgZCBJdm9pcmUHQ3JvYXRpYQRDdWJhBkN5cHJ1cw5DemVjaCBSZXB1YmxpYwdEZW5tYXJrCERqaWJvdXRpCERvbWluaWNhEkRvbWluaWNhbiBSZXB1YmxpYwdFY3VhZG9yBUVneXB0C0VsIFNhbHZhZG9yEUVxdWF0b3JpYWwgR3VpbmVhB0VyaXRyZWEHRXN0b25pYQhFdGhpb3BpYQdGaW5sYW5kBkZyYW5jZQdHZW9yZ2lhB0dlcm1hbnkFR2hhbmEJR2licmFsdGFyBkdyZWVjZQlHdWF0ZW1hbGEIR3Vlcm5zZXkGR3VpbmVhBkd1eWFuYQVIYWl0aQhIb25kdXJhcwlIb25nIEtvbmcHSHVuZ2FyeQdJY2VsYW5kBUluZGlhCUluZG9uZXNpYQRJcmFuBElyYXEHSXJlbGFuZAZJc3JhZWwFSXRhbHkHSmFtYWljYQVKYXBhbgZKZXJzZXkGSm9yZGFuCkthemFraHN0YW4FS2VueWEMS29yZWEsIE5vcnRoDEtvcmVhLCBTb3V0aAZLb3Nvdm8GS3V3YWl0Ckt5cmd5enN0YW4ETGFvcwZMYXR2aWEHTGViYW5vbgdMaWJlcmlhBUxpYnlhDUxpZWNodGVuc3RlaW4JTGl0aHVhbmlhCkx1eGVtYm91cmcFTWFjYXUITWFsYXlzaWEITWFsZGl2ZXMETWFsaQVNYWx0YQxNYW4sIElzbGUgb2YQTWFyc2hhbGwgSXNsYW5kcwpNYXVyaXRhbmlhBk1leGljbwdNb2xkb3ZhBk1vbmFjbwhNb25nb2xpYQpNb250ZW5lZ3JvB01vcm9jY28KTW96YW1iaXF1ZQdOYW1pYmlhC05ldGhlcmxhbmRzFE5ldGhlcmxhbmRzIEFudGlsbGVzC05ldyBaZWFsYW5kCU5pY2FyYWd1YQVOaWdlcgdOaWdlcmlhIE5vcnRoIE1hY2Vkb25pYSwgVGhlIFJlcHVibGljIG9mBk5vcndheQRPbWFuCFBha2lzdGFuBVBhbGF1C1BhbGVzdGluaWFuBlBhbmFtYQhQYXJhZ3VheQRQZXJ1C1BoaWxpcHBpbmVzBlBvbGFuZAVRYXRhcipSZWdpb246IENvbW1vbndlYWx0aCBvZiBJbmRlcGVuZGVudCBTdGF0ZXMOUmVnaW9uOiBDcmltZWEMUmVnaW9uOiBHYXphE1JlZ2lvbjogS2FmaWEgS2luZ2kVUmVnaW9uOiBOb3J0aGVybiBNYWxpEVJlZ2lvbjogV2VzdCBCYW5rB1JvbWFuaWEGUnVzc2lhBlJ3YW5kYRVTYWludCBLaXR0cyBhbmQgTmV2aXMgU2FpbnQgVmluY2VudCBhbmQgdGhlIEdyZW5hZGluZXMFU2Ftb2EKU2FuIE1hcmlubwxTYXVkaSBBcmFiaWEHU2VuZWdhbAZTZXJiaWEKU2V5Y2hlbGxlcwxTaWVycmEgTGVvbmUJU2luZ2Fwb3JlCFNsb3Zha2lhCFNsb3ZlbmlhB1NvbWFsaWEMU291dGggQWZyaWNhC1NvdXRoIFN1ZGFuBVNwYWluCVNyaSBMYW5rYQVTdWRhbgZTd2VkZW4LU3dpdHplcmxhbmQFU3lyaWEGVGFpd2FuClRhamlraXN0YW4IVGFuemFuaWEIVGhhaWxhbmQKVGhlIEdhbWJpYRNUcmluaWRhZCBhbmQgVG9iYWdvB1R1bmlzaWEGVHVya2V5DFR1cmttZW5pc3RhbgZVZ2FuZGEHVWtyYWluZQx1bmRldGVybWluZWQUVW5pdGVkIEFyYWIgRW1pcmF0ZXMOVW5pdGVkIEtpbmdkb20NVW5pdGVkIFN0YXRlcwdVcnVndWF5ClV6YmVraXN0YW4HVmFudWF0dQlWZW5lenVlbGEHVmlldG5hbRdWaXJnaW4gSXNsYW5kcywgQnJpdGlzaAlXZXN0IEJhbmsFWWVtZW4GWmFtYmlhCFppbWJhYndlFCsDuQFnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2RkAiMPEA8WAh8OZ2QQFQMDQWxsB05vbi1TRE4DU0ROFQMAB05vbi1TRE4DU0ROFCsDA2dnZ2RkAgcPZBYCAgEPDxYCHwwFGExvb2t1cCBSZXN1bHRzOiAyMyBGb3VuZGRkAgkPZBYEAgEPFgIeBXdpZHRoBQU5MDNweBYCZg9kFgICBQ9kFgICAw8PFgQeCEltYWdlVXJsBRF+L2ltYWdlcy9kZXNjLmdpZh4HVmlzaWJsZWdkZAIFDzwrABEEAA8WBB8OZx4LXyFJdGVtQ291bnQCF2QBEBYAFgAWAAsWBB4FV2lkdGgbAAAAAAAgjEABAAAAHgRfIVNCAoACDBQrAAAWAmYPZBYyZg8PFgIfEWhkZAIBD2QWDAIBD2QWAmYPDxYEHwwFLkNBUlJJTExPIEZVRU5URVMgRFJVRyBUUkFGRklDS0lORyBPUkdBTklaQVRJT04fDQUWfi9EZXRhaWxzLmFzcHg/aWQ9ODIzN2RkAgIPDxYCHwwFBiZuYnNwO2RkAgMPDxYCHwwFBkVudGl0eWRkAgQPDxYCHwwFHElMTElDSVQtRFJVR1MtRU8xNDA1OTsgU0ROVEtkZAIFDw8WAh8MBQNTRE5kZAIGDw8WAh8MBQMxMDBkZAICD2QWDAIBD2QWAmYPDxYEHwwFK0NFU0FSIFBFUkFMVEEgRFJVRyBUUkFGRklDS0lORyBPUkdBTklaQVRJT04fDQUXfi9EZXRhaWxzLmFzcHg/aWQ9MjYxNDBkZAICDw8WAh8MBQYmbmJzcDtkZAIDDw8WAh8MBQZFbnRpdHlkZAIEDw8WAh8MBQVTRE5US2RkAgUPDxYCHwwF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',
    '__VIEWSTATEGENERATOR': 'CA0B0334',
    'ctl00$MainContent$ddlType': '',
    'ctl00$MainContent$txtAddress': '',
    'ctl00$MainContent$txtLastName': name,
    'ctl00$MainContent$txtCity': '',
    'ctl00$MainContent$txtID': '',
    'ctl00$MainContent$txtState': '',
    'ctl00$MainContent$lstPrograms': '',
    'ctl00$MainContent$ddlCountry': '',
    'ctl00$MainContent$ddlList': '',
    'ctl00$MainContent$Slider1': '100',
    'ctl00$MainContent$Slider1_Boundcontrol': '100',
    'ctl00$MainContent$btnSearch': 'Search'
    }

    response = requests.post(url, data=payload)


    if response.status_code == 200:
        print("Solicitud exitosa")
    else:
        print(f"Error en la solicitud: {response.status_code}")

    soup = BeautifulSoup(response.text, 'html.parser')

    # Encontramos la tabla de resultados
    table = soup.find('table', id='gvSearchResults')

    if table:
        rows = table.find_all('tr')
        
        for row in rows:
            cols = row.find_all('td')
            data = [col.get_text(strip=True) for col in cols]
            if len(data) >= 6:
                element = OfacElement(
                    name=data[0],         
                    address=data[1],      
                    type=data[2],        
                    program=data[3],      
                    list=data[4],         
                    score=int(data[5])    
                )
                elements.append(element)
    else:
        print("No se encontró la tabla de resultados.")
        print(soup)
    
    rsp = Response(total=len(elements), data=elements)
    return rsp


